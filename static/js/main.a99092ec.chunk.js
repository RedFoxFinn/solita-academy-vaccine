(this.webpackJsonpvaccinations_frontend=this.webpackJsonpvaccinations_frontend||[]).push([[0],{26:function(e,t,n){},34:function(e){e.exports=JSON.parse('{"name":"vaccinations_frontend","appid":"rff.dev.vaccinations","appname":["Vaccinations","Rokotukset"],"homepage":"https://redfoxfinn.github.io/solita-academy-vaccine","repository":{"type":"git","url":"https://github.com/RedFoxFinn/solita-academy-vaccine"},"author":{"name":"Antti Aarnio","alias":"RedFoxFinn","url":"https://github.com/RedFoxFinn/"},"version":"0.8.5","private":true,"dependencies":{"@apollo/client":"^3.3.20","@reduxjs/toolkit":"^1.6.0","@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^11.1.0","@testing-library/user-event":"^12.1.10","graphql":"^15.5.1","plotly.js":"^2.1.0","react":"^17.0.2","react-dom":"^17.0.2","react-plotly.js":"^2.5.1","react-redux":"^7.2.4","react-router-dom":"^5.2.0","react-scripts":"4.0.3","web-vitals":"^1.0.1"},"husky":{"hooks":{"commit-msg":"commitlint -E HUSKY_GIT_PARAMS"}},"scripts":{"cm":"git-cz","release":"standard-version","start":"react-scripts start","build":"react-scripts build","test":"react-scripts test --colors --no-cache --coverage --verbose --notify --watchAll --noStackTrace --transformIgnorePatterns \'node_modules/*\'","predeploy":"npm run build","deploy":"gh-pages -d build","ci":"react-scripts test --colors --no-cache --coverage --verbose --noStackTrace --transformIgnorePatterns \'node_modules/*\'","eject":"react-scripts eject"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"jest":{"collectCoverageFrom":["src/**/*.{js,jsx}","!<rootDir>/node_modules/","!<rootDir>/src/data/"],"coverageThreshold":{"global":{"branches":85,"functions":85,"lines":85,"statements":-10}},"coverageReporters":["json-summary","text","lcov"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@commitlint/cli":"^12.1.4","@commitlint/config-conventional":"^12.1.4","@iconify-icons/mdi-light":"^1.1.0","@iconify/react":"^1.1.4","commitizen":"^4.2.4","gh-pages":"^3.2.3","history":"^5.0.0","husky":"^6.0.0","jest-canvas-mock":"^2.3.1","standard-version":"^9.3.0"}}')},55:function(e){e.exports=JSON.parse('{"id":"ae24e058-79af-47dd-b836-7f77a951ca55","healthCareDistrict":"HYKS|KYS|OYS|TAYS|TYKS","orderNumber":9999,"responsiblePerson":"Name of the person who is responsible to track the delivery","injections":4.5,"arrived":"2021-03-07T19:23:29.670958Z","vaccine":"Zerpfy|Antiqua|SolarBuddhica"}')},56:function(e){e.exports=JSON.parse('{"vaccinationId":"0bd723a5-d7ac-41e5-af9e-8f4e9c0254d9","gender":"male|female|nonbinary","sourceBottle":"ae24e058-79af-47dd-b836-7f77a951ca55","vaccinationDate":"2021-03-07T19:23:29.670958Z"}')},69:function(e,t,n){},70:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a,c,i,r,s,o,d,l,j,u,b=n(2),h=n.n(b),O=n(36),v=n.n(O),m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,92)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))},p=n(87),x=n(10),f=n(88),g=n(90),y=new f.a({uri:"https://sda-vaccines.herokuapp.com/api",cache:new g.a}),S=n(22),D=Object(S.b)({name:"vaccinations",initialState:{data:[],status:"waiting"},reducers:{setVaccinations:function(e,t){e.data=t.vaccinations},setStatus:function(e,t){e.status=t.status}}}),C=D.actions,N=(C.setVaccinations,C.setStatus,D.reducer),$=Object(S.b)({name:"orders",initialState:{data:[],status:"waiting"},reducers:{setOrders:function(e,t){e.data=t.orders},setStatus:function(e,t){e.status=t.status}}}),I=$.actions,k=(I.setOrders,I.setStatus,$.reducer),w=Object(S.b)({name:"composite",initialState:{data:[],status:"waiting"},reducers:{setComposite:function(e,t){e.data=t.compositeData},setStatus:function(e,t){e.status=t.status}}}),Y=w.actions,V=(Y.setComposite,Y.setStatus,w.reducer),A=Object(S.a)({reducer:{vaccinations:N,orders:k,composite:V}}),F=n(28),T=n(86),B=n(8),K=n(0),P=function(e){e.id;return Object(K.jsx)("section",{children:Object(K.jsx)("p",{children:"Home"})})},q=n(24),E=n(23),H=(n(26),function(e){var t=e.id,n=e.orderNumber,a=e.responsiblePerson,c=e.healthCareDistrict,i=e.vaccine,r=e.injections,s=e.arrived,o=e.embedded,d=void 0!==o&&o,l=new Date(s),j=new Date(l.valueOf()+2592e6);return Object(K.jsxs)("details",{className:d?"data":"data highlight",id:t,"data-testid":t,children:[Object(K.jsxs)("summary",{className:"element",children:[n," - ",i]}),Object(K.jsxs)("p",{className:"element",style:{marginTop:"0.5rem"},children:["Vaccine vial ID: ",t]}),Object(K.jsxs)("p",{className:"element",children:["Vaccine order number: ",n]}),Object(K.jsxs)("p",{className:"element",children:["Responsible person: ",a]}),Object(K.jsxs)("p",{className:"element",children:["Healthcare district: ",c]}),Object(K.jsxs)("p",{className:"element",children:["Vaccine: ",i]}),Object(K.jsxs)("p",{className:"element",children:["Injections / vial: ",r]}),Object(K.jsxs)("p",{className:"element",children:["Date of arrival: ",l.toLocaleString()]}),Object(K.jsxs)("p",{className:"element",children:["Date of expiration: ",j.toLocaleString()]})]})}),L=function(e){var t=e.orders,n=e.id,a=Object(b.useState)("oNumAsc"),c=Object(E.a)(a,2),i=c[0];c[1];return Object(K.jsx)("section",{id:n,"data-testid":n,children:t?function(){var e=t;switch(i){case"oNumAsc":return e;case"oNumDesc":return e.sort((function(e,t){return e.orderNumber<t.orderNumber?1:-1}));default:return e}}().map((function(e){return Object(b.createElement)(H,Object(q.a)(Object(q.a)({embedded:!1},e),{},{key:"vaccinekey-".concat(e.id)}))})):Object(K.jsx)("p",{children:"Orders . . ."})})},Z=n(85),_=function(e){var t="error-".concat(e.datatype);return Object(K.jsx)("section",{id:t,"data-testid":t,children:Object(K.jsxs)("p",{children:["Error loading ",e.datatype]})})},R=function(e){var t="loading-".concat(e.datatype);return Object(K.jsx)("section",{id:t,"data-testid":t,children:Object(K.jsxs)("p",{children:["Loading ",e.datatype]})})},z=n(14),J=n(89),M=Object(J.a)(a||(a=Object(z.a)(["\n  fragment VaccineDetails on Vaccine {\n    id\n    orderNumber\n    healthCareDistrict\n    responsiblePerson\n    vaccine\n    injections\n    arrived\n  }\n"]))),G=Object(J.a)(c||(c=Object(z.a)(["\n  query vaccines($by: String, $responsiblePerson: String, $healthCareDistrict: String, $vaccine: String) {\n    vaccines(by: $by, responsiblePerson: $responsiblePerson, healthCareDistrict: $healthCareDistrict, vaccine: $vaccine) {\n      ...VaccineDetails\n    }\n  }\n  ","\n"])),M),U=Object(J.a)(i||(i=Object(z.a)(["\n  query vaccine($by: String!, $id: String, $orderNumber: Int) {\n    vaccine(by: $by, id: $id, orderNumber: $orderNumber) {\n      ...VaccineDetails\n    }\n  }\n  ","\n"])),M),W=Object(J.a)(r||(r=Object(z.a)(["\n  query vaccineOrderCount($by: String, $brand: String, $healthCareDistrict: String, $responsiblePerson: String, $arrivalDate: String) {\n    vaccineOrderCount(by: $by, brand: $brand, healthCareDistrict: $healthCareDistrict, responsiblePerson: $responsiblePerson, arrivalDate: $arrivalDate)\n  }\n"]))),Q=(Object(J.a)(s||(s=Object(z.a)(["\n  query vaccineInjectionCount($by: String, $brand: String, $healthCareDistrict: String, $responsiblePerson: String, $arrivalDate: String) {\n    vaccineInjectionCount(by: $by, brand: $brand, healthCareDistrict: $healthCareDistrict, responsiblePerson: $responsiblePerson, arrivalDate: $arrivalDate)\n  }\n"]))),Object(J.a)(o||(o=Object(z.a)(["\n  query orderExpiration($orderNumber: Int!) {\n    orderExpiration(orderNumber: $orderNumber)\n  }\n"]))),function(e,t){switch(t){case"header":return"".concat(e,".header");case"heading":return"".concat(e,".heading");case"footer":return"".concat(e,".footer");case"order":return"".concat(e,".order.").concat(arguments.length<=2?void 0:arguments[2]);case"vaccination":return"".concat(e,".vaccination.").concat(arguments.length<=2?void 0:arguments[2]);case"loadVaccine":return"".concat(e,".loadVaccineOrder.").concat(arguments.length<=2?void 0:arguments[2]);case"routing":return"".concat(e,".routing");case"navigator":return"".concat(e,".navigator");case"navlink":return"".concat(e,".navlink.").concat(arguments.length<=2?void 0:arguments[2]);case"home":return"".concat(e,".home");case"data":return"".concat(e,".datavis");case"orders":return"".concat(e,".orders");case"vaccinations":return"".concat(e,".vaccinations");default:return"".concat(e,".default")}}),X=function(e){var t=e.vaccinationId,n=e.gender,a=e.sourceBottle,c=e.vaccinationDate,i=Object(Z.a)(U,{variables:{by:"id",id:a}}),r=Object(E.a)(i,2),s=r[0],o=r[1],d=o.called,l=o.data,j=o.error,u=o.loading,b=new Date(c),h=Q(t,"loadVaccine",a);return Object(K.jsxs)("details",{className:"data highlight",id:t,"data-testid":t,children:[Object(K.jsxs)("summary",{className:"element",children:[n," - ",b.toLocaleDateString()]}),Object(K.jsxs)("p",{className:"element",children:["Vaccination ID: ",t]}),Object(K.jsxs)("p",{className:"element",children:["Gender: ",n]}),Object(K.jsxs)("p",{className:"element",children:["Vaccination date: ",b.toLocaleString()]}),!d&&Object(K.jsx)("button",{className:"element",id:h,"data-testid":h,onClick:function(){return s()},children:"Load vaccine order"}),d&&u&&Object(K.jsx)("section",{style:{marginLeft:"2rem"},children:Object(K.jsx)(R,{datatype:"vaccine order"})}),d&&j&&Object(K.jsx)("section",{style:{marginLeft:"2rem"},children:Object(K.jsx)(_,{datatype:"vaccine order"})}),d&&l&&Object(K.jsx)(H,Object(q.a)({embedded:!0},l.vaccine))]})},ee=function(e){var t=e.id,n=Object(x.c)((function(e){return e.vaccinations})),a=n.data,c=n.status;return Object(K.jsx)("section",{id:t,"data-testid":t,children:"done"===c&&a&&a.length>0?a.map((function(e){return Object(b.createElement)(X,Object(q.a)(Object(q.a)({},e),{},{key:"vaccinationkey-".concat(e.vaccinationId)}))})):Object(K.jsx)("p",{children:"Vaccinations . . ."})})},te=n(54),ne=n.n(te),ae=Object(J.a)(d||(d=Object(z.a)(["\n  fragment VaccinationDetails on Vaccination {\n    vaccinationId\n    sourceBottle\n    gender\n    vaccinationDate\n  }\n"]))),ce=Object(J.a)(l||(l=Object(z.a)(["\n  query vaccinations($by: String, $date: String, $gender: String) {\n    vaccinations(by: $by, date: $date, gender: $gender) {\n      ...VaccinationDetails\n    }\n  }\n  ","\n"])),ae),ie=(Object(J.a)(j||(j=Object(z.a)(["\n  query vaccination($id: String!) {\n    vaccination(id: $id) {\n      ...VaccinationDetails\n    }\n  }\n  ","\n"])),ae),Object(J.a)(u||(u=Object(z.a)(["\n  query vaccinationCount($by: String, $gender: String, $date: String) {\n    vaccinationCount(by: $by, gender: $gender, date: $date)\n  }\n"])))),re=n(16),se=n(17),oe=function(e){var t,n=e.gender,a=e.totalCount,c=Object(Z.a)(ie,{variables:{by:"gender",gender:n.toLowerCase()}}),i=Object(E.a)(c,2),r=i[0],s=i[1],o=s.called,d=s.data,l=s.error,j=s.loading;return o||r(),o&&!j&&!l&&d&&(t=d.vaccinationCount/a*100),Object(K.jsxs)("section",{className:"small-subset",children:[Object(K.jsxs)("p",{children:[n,":"]}),o?j?Object(K.jsx)(R,{datatype:"vaccination count by gender"}):l?Object(K.jsx)(_,{datatype:"vaccination count by gender"}):d&&Object(K.jsxs)("p",{children:["~ ",t.toFixed(2),"% ",Object(K.jsx)(re.InlineIcon,{icon:se.a})," ",d.vaccinationCount," vaccinated"]}):Object(K.jsx)(R,{datatype:"vaccination count by gender"})]})},de=function(e){var t,n,a=e.vaccineBrand,c=e.totalCount,i=Object(x.c)((function(e){return e.orders})),r=Object(Z.a)(W,{variables:{by:"brand",brand:a}}),s=Object(E.a)(r,2),o=s[0],d=s[1],l=d.called,j=d.data,u=d.error,b=d.loading;return l||o(),l&&!b&&!u&&j&&(t=j.vaccineOrderCount/c*100,i.data.find((function(e){return n=e.vaccine===a?e.injections:0}))),Object(K.jsxs)("section",{className:"subset",children:[Object(K.jsxs)("p",{children:[a,":"]}),l?b?Object(K.jsx)(R,{datatype:"order count by brand"}):u?Object(K.jsx)(_,{datatype:"order count by brand"}):j&&Object(K.jsxs)(h.a.Fragment,{children:[Object(K.jsxs)("p",{children:["~ ",t.toFixed(2),"% ",Object(K.jsx)(re.InlineIcon,{icon:se.a})," ",j.vaccineOrderCount," orders"]}),Object(K.jsxs)("p",{children:[n," injections / order, ",j.vaccineOrderCount*n," injections in total"]})]}):Object(K.jsx)(R,{datatype:"order count by brand"})]})},le=function(e){var t=e.districtData,n=e.district,a=e.totalCount,c=t.length/a*100,i={f:0,m:0,n:0},r={a:0,sb:0,z:0},s={Antiqua:0,SolarBuddhica:0,Zerpfy:0},o={female:0,male:0,nonbinary:0};return t.forEach((function(e){switch(e.gender){case"female":o.female+=1;break;case"male":o.male+=1;break;case"nonbinary":o.nonbinary+=1}switch(e.vaccine){case"Antiqua":s.Antiqua+=1;break;case"SolarBuddhica":s.SolarBuddhica+=1;break;case"Zerpfy":s.Zerpfy+=1}})),i.f=o.female/t.length*100,i.m=o.male/t.length*100,i.n=o.nonbinary/t.length*100,r.a=s.Antiqua/t.length*100,r.sb=s.SolarBuddhica/t.length*100,r.z=s.Zerpfy/t.length*100,Object(K.jsxs)("section",{className:"district",children:[Object(K.jsxs)("p",{children:[n,":"]}),Object(K.jsxs)("p",{children:["~ ",c.toFixed(2),"% ",Object(K.jsx)(re.InlineIcon,{icon:se.a})," ",t.length," vaccinations"]}),Object(K.jsxs)("p",{children:["Female: ~ ",i.f.toFixed(2),"% ",Object(K.jsx)(re.InlineIcon,{icon:se.a})," ",o.female," vaccinations"]}),Object(K.jsxs)("p",{children:["Male: ~ ",i.m.toFixed(2),"% ",Object(K.jsx)(re.InlineIcon,{icon:se.a})," ",o.male," vaccinations"]}),Object(K.jsxs)("p",{children:["Nonbinary: ~ ",i.n.toFixed(2),"% ",Object(K.jsx)(re.InlineIcon,{icon:se.a})," ",o.nonbinary," vaccinations"]}),Object(K.jsxs)("p",{children:["Antiqua: ~ ",r.a.toFixed(2),"% ",Object(K.jsx)(re.InlineIcon,{icon:se.a})," ",s.Antiqua," vaccinations"]}),Object(K.jsxs)("p",{children:["SolarBuddhica: ~ ",r.sb.toFixed(2),"% ",Object(K.jsx)(re.InlineIcon,{icon:se.a})," ",s.SolarBuddhica," vaccinations"]}),Object(K.jsxs)("p",{children:["Zerpfy: ~ ",r.z.toFixed(2),"% ",Object(K.jsx)(re.InlineIcon,{icon:se.a})," ",s.Zerpfy," vaccinations"]})]})},je=(n(69),function(){return Object(K.jsxs)("div",{class:"lds-ripple",children:[Object(K.jsx)("div",{}),Object(K.jsx)("div",{})]})}),ue=function(){var e,t,n,a=Object(T.a)(ie),c=Object(T.a)(W),i=Object(x.c)((function(e){return e.vaccinations})),r=Object(x.c)((function(e){return e.orders})),s=Object(x.c)((function(e){return e.composite}));function o(){return!!(c&&c.called&&c.data&&"done"===r.status)}function d(){return!!(a&&a.called&&a.data&&"done"===i.status)}function l(){return!(!o()||!d()||"done"!==s.status)}l()&&(e={label:"Vaccine",values:s.data.map((function(e){return e.vaccine}))},t={label:"Gender",values:s.data.map((function(e){return e.gender}))},n={label:"Healthcare district",values:s.data.map((function(e){return e.healthCareDistrict}))});var j=function(){return Object(K.jsxs)("details",{className:"set",children:[Object(K.jsx)("summary",{children:"by gender"}),Object(K.jsxs)("article",{className:"set-container",children:[Object(K.jsx)(oe,{gender:"Female",totalCount:a.data.vaccinationCount}),Object(K.jsx)(oe,{gender:"Male",totalCount:a.data.vaccinationCount}),Object(K.jsx)(oe,{gender:"Nonbinary",totalCount:a.data.vaccinationCount})]})]})},u=function(){return Object(K.jsxs)("details",{className:"set",children:[Object(K.jsx)("summary",{children:"by vaccine"}),Object(K.jsxs)("article",{className:"set-container",children:[Object(K.jsx)(de,{vaccineBrand:"Antiqua",totalCount:c.data.vaccineOrderCount}),Object(K.jsx)(de,{vaccineBrand:"SolarBuddhica",totalCount:c.data.vaccineOrderCount}),Object(K.jsx)(de,{vaccineBrand:"Zerpfy",totalCount:c.data.vaccineOrderCount})]})]})},b=function(){var e={HYKS:[],KYS:[],OYS:[],TAYS:[],TYKS:[]};return s.data.forEach((function(t){switch(t.healthCareDistrict){case"HYKS":e.HYKS.push(t);break;case"KYS":e.KYS.push(t);break;case"OYS":e.OYS.push(t);break;case"TAYS":e.TAYS.push(t);break;case"TYKS":e.TYKS.push(t)}})),Object(K.jsxs)("details",{className:"set",children:[Object(K.jsx)("summary",{children:"by healthcare district"}),Object(K.jsxs)("article",{className:"set-container",children:[Object(K.jsx)(le,{district:"HYKS",districtData:e.HYKS,totalCount:s.data.length}),Object(K.jsx)(le,{district:"KYS",districtData:e.KYS,totalCount:s.data.length}),Object(K.jsx)(le,{district:"OYS",districtData:e.OYS,totalCount:s.data.length}),Object(K.jsx)(le,{district:"TAYS",districtData:e.TAYS,totalCount:s.data.length}),Object(K.jsx)(le,{district:"TYKS",districtData:e.TYKS,totalCount:s.data.length})]})]})},O=function(){return Object(K.jsxs)("section",{className:"dataVis",children:[Object(K.jsx)("h3",{style:{textAlign:"center"},children:"Data in numbers"}),d()?Object(K.jsx)(j,{}):Object(K.jsx)(je,{}),o()?Object(K.jsx)(u,{}):Object(K.jsx)(je,{}),l()?Object(K.jsx)(b,{}):Object(K.jsx)(je,{})]})},v=function(){return Object(K.jsxs)("section",{id:"dataVisualisation",className:"dataVis",children:[Object(K.jsx)("h3",{style:{textAlign:"center"},children:"Data visualised"}),l()?Object(K.jsx)("article",{style:{outline:"1px solid rgba(220,30,50,0.5)",marginBottom:"4rem"},children:Object(K.jsx)(ne.a,{data:[{type:"parcats",dimensions:[n,t,e],line:{shape:"hspline",cmin:0,cmax:1,color:new Int8Array(e.values),autocolorscale:!0},labelfont:{size:14},arrangement:"freeform"}],layout:{width:window.innerWidth>=1280?1080:720,height:window.innerHeight>=800?720:480,title:"Vaccinations"}})}):Object(K.jsx)(je,{})]})};return Object(K.jsx)("section",{id:"dataVisualisation",children:Object(K.jsxs)(h.a.Fragment,{children:[Object(K.jsx)(O,{}),Object(K.jsx)(v,{})]})})},be=(n(70),function(e){var t=Object(x.c)((function(e){return e.vaccinations})),n=Object(x.c)((function(e){return e.orders})),a=Object(x.c)((function(e){return e.composite})),c=Q(e.id,"routing");return Object(K.jsx)("section",{className:"viewer",id:c,"data-testid":c,children:Object(K.jsxs)(B.c,{children:[Object(K.jsx)(B.a,{exact:!0,path:"/",children:Object(K.jsx)(P,{id:Q(e.id,"home")})}),Object(K.jsx)(B.a,{path:"/data",children:"done"===n.status&&"done"===t.status&&"done"===a.status?Object(K.jsx)(ue,{id:Q(e.id,"data")}):Object(K.jsx)(je,{})}),Object(K.jsx)(B.a,{path:"/orders",children:"loading"===n.status||"error"===n.status?"loading"===n.status?Object(K.jsx)(je,{}):Object(K.jsx)(_,{datatype:"vaccine orders"}):Object(K.jsx)(L,{orders:n.data,id:Q(e.id,"orders")})}),Object(K.jsx)(B.a,{path:"/vaccinations",children:"loading"===t.status||"error"===t.status?"loading"===t.status?Object(K.jsx)(je,{}):Object(K.jsx)(_,{datatype:"vaccinations"}):Object(K.jsx)(ee,{vaccinations:t.data,id:Q(e.id,"vaccinations")})})]})})}),he=function(e){var t=e.id,n={color:"rgb(61,61,61)",textDecoration:"solid underline",textDecorationColor:"rgb(220,30,50)"},a={color:"rgb(61,61,61)",textDecoration:"none"},c=Object(K.jsx)("p",{style:{color:"rgb(61,61,61"},children:" |\xa0"}),i={home:Q(t,"navlink","home"),data:Q(t,"navlink","data"),orders:Q(t,"navlink","orders"),vaccinations:Q(t,"navlink","vaccinations")};return Object(K.jsxs)("nav",{className:"row navigator",children:[Object(K.jsx)(F.b,{to:"/",inactiveStyle:a,id:i.home,"data-testid":i.home,children:"Home"}),c,Object(K.jsx)(F.b,{to:"/data",activeStyle:n,inactiveStyle:a,id:i.data,"data-testid":i.data,children:"Data"}),c,Object(K.jsx)(F.b,{to:"/orders",activeStyle:n,inactiveStyle:a,id:i.orders,"data-testid":i.orders,children:"Orders"}),c,Object(K.jsx)(F.b,{to:"/vaccinations",activeStyle:n,inactiveStyle:a,id:i.vaccinations,"data-testid":i.vaccinations,children:"Vaccinations"})]})};var Oe=function(e){return e},ve=n(34),me=n(55),pe=n(56);var xe={appid:function(){return ve.appid.toString()},appname:function(){return ve.appname[0].toString()},authorinfo:function(){return ve.author},repoinfo:function(){return ve.repository},vaccineSample:function(){return me},vaccinationSample:function(){return pe}},fe=function(e){var t=e.id;return Object(K.jsx)("section",{className:"header",id:t,"data-testid":t,children:Object(K.jsx)("h2",{children:Oe(xe.appname())})})},ge=function(e){var t=e.id;return Object(K.jsxs)("section",{id:t,"data-testid":t,className:"topelement",children:[Object(K.jsx)(fe,{id:Q(t,"heading")}),Object(K.jsx)(he,{id:Q(t,"navigator")})]})},ye=function(e){var t=xe.repoinfo(),n=xe.authorinfo();return Object(K.jsxs)("section",{className:"row footer",id:e.id,"data-testid":e.id,children:[Object(K.jsx)("a",{href:t.url,children:Oe(xe.appid())}),Object(K.jsx)("a",{href:n.url,title:n.name,children:n.alias})]})},Se=function(e,t){var n=[];return e.forEach((function(e){var a=t.find((function(t){return t.id===e.sourceBottle}));n.push({vaccinationId:e.vaccinationId,gender:e.gender,vaccinationDate:new Date(e.vaccinationDate).valueOf(),vaccineOrderId:a.id,orderNumber:a.orderNumber,healthCareDistrict:a.healthCareDistrict,responsiblePerson:a.responsiblePerson,vaccine:a.vaccine,injections:a.injections,vaccineArrivalDate:new Date(a.arrived).valueOf()})})),n},De=function(e){var t=Object(x.c)((function(e){return e.vaccinations})),n=Object(x.c)((function(e){return e.orders})),a=Object(T.a)(ce),c=Object(T.a)(G),i=Object(x.b)();return Object(b.useEffect)((function(){a.loading&&i({type:"vaccinations/setStatus",status:"loading"}),a.error&&i({type:"vaccinations/setStatus",status:"error"}),a.data&&(i({type:"vaccinations/setStatus",status:"done"}),i({type:"vaccinations/setVaccinations",vaccinations:a.data.vaccinations}))}),[a,i]),Object(b.useEffect)((function(){c.loading&&i({type:"orders/setStatus",status:"loading"}),c.error&&i({type:"orders/setStatus",status:"error"}),c.data&&(i({type:"orders/setStatus",status:"done"}),i({type:"orders/setOrders",orders:c.data.vaccines}))}),[c,i]),Object(b.useEffect)((function(){if("done"===n.status&&"done"===t.status&&c.data&&a.data){i({type:"composite/setStatus",status:"loading"});var e=Se(t.data,n.data);i({type:"composite/setComposite",compositeData:e}),i({type:"composite/setStatus",status:"done"})}}),[i,n,t,c,a]),Object(K.jsx)("article",{className:"column",id:e.id,"data-testid":e.id,children:Object(K.jsxs)(F.a,{children:[Object(K.jsx)(ge,{id:Q(e.id,"header")}),Object(K.jsx)(be,{id:e.id}),Object(K.jsx)(ye,{id:Q(e.id,"footer")})]})})};v.a.render(Object(K.jsx)(h.a.StrictMode,{children:Object(K.jsx)(x.a,{store:A,children:Object(K.jsx)(p.a,{client:y,children:Object(K.jsx)(De,{id:xe.appid()})})})}),document.getElementById("root")),m()}},[[72,1,2]]]);
//# sourceMappingURL=main.a99092ec.chunk.js.map